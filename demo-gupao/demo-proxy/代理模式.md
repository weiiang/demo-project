# 代理模式

## 1.1代理模式的作用:

​	AOP实现,拦截器,中介,黄牛,解耦,专人做专事,自己不想做又不得不做的事,增强......

## 1.2	代理模式的分类

​	代理的角色:	代理角色. 被代理角色.代理角色完成被代理角色的一部分事情,还是由被代理角色最终决定.代理角色通常会持有被代理对象的引用,以便于代理角色完成工作之前或之后找到被代理的对象,能够通知对象.

### 	1.2.1	静态代理

​		代理类是具体的类->目标类是具体的类,所有的方法都是已知的(人工)

### 	1.2.2	动态代理

​		在代理之前所有的都是未知的(自动化)

​		JDK动态代理原理:字节码重组步骤:

​			1.拿到被代理的对象的引用,并且通过反射获取到它的所有接口

​			2.JDK Proxy类型重新生成一个新的类,同时新的类要实现被代理类所实现的所有方法

​			3.动态生成Java代码,把新加的业务逻辑方法由一定的逻辑代码在invoke方法中调用

​			4.编译新生成的java代码

​			5.重新加载到JVM中去运行

## 2.1	代理模式之拦截器的实现

​	